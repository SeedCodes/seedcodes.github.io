<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SeedCodes — Project</title>
  <meta name="description" content="" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="../styles/main.css" />
  <link rel="stylesheet" href="../styles/project.css" />
</head>

<body>

  <div class="bg-gradient"></div>

  <nav class="navbar">
    <div class="nav-inner">
      <a href="../" class="nav-logo">
        <span class="logo-dot"></span>
        SeedCodes
      </a>
      <a href="../#projects" class="back-link" style="margin-left:auto;">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
        </svg>
        Back
      </a>
    </div>
  </nav>

  <main class="page-enter" id="projectMain">
    <div class="container" id="projectContent"></div>
  </main>

  <footer class="project-footer-bar">
    <div class="container">
      <p>© 2026 SeedCodes. Engineered from scratch.</p>
    </div>
  </footer>

  <script type="module">
    import { projects } from '../js/data.js';
    window.__projects = projects;
    window.dispatchEvent(new Event('dataReady'));
  </script>
  <script>
    function renderProject() {
      var projects = window.__projects;
      if (!projects) return;

      var slug = new URLSearchParams(window.location.search).get('p');
      var project = projects.find(function (p) { return p.slug === slug; });
      var container = document.getElementById('projectContent');

      if (!project) {
        document.title = 'Module Not Found — SeedCodes';
        container.innerHTML = '<section class="project-hero"><h1>Module Not Found</h1><p class="project-tagline">This project module doesn\'t exist yet.</p></section>';
        return;
      }

      document.title = project.name + ' — SeedCodes';
      var descMeta = document.querySelector('meta[name="description"]');
      if (descMeta) descMeta.content = project.tagline || project.description;

      var statusMap = { active: 'ACTIVE MODULE', building: 'IN DEVELOPMENT', paused: 'PAUSED', research: 'RESEARCH PHASE' };

      var featuresHTML = (project.features || []).map(function (f, i) {
        return '<div class="feature-item reveal" data-delay="' + (i * 60) + '"><div class="feature-icon">' + f.icon + '</div><div class="feature-name">' + f.name + '</div><div class="feature-desc">' + f.desc + '</div></div>';
      }).join('');

      var techHTML = (project.techDetail || project.stack).map(function (t) {
        return '<span class="tech-badge">' + t + '</span>';
      }).join('');

      var stepsHTML = (project.steps || []).map(function (s, i) {
        return '<div class="step reveal" data-delay="' + (i * 80) + '"><span class="step-num">' + String(i + 1).padStart(2, '0') + '</span><span class="step-text">' + s + '</span></div>';
      }).join('');

      // Custom actions — each project controls its own buttons
      var actionsHTML = (project.actions || []).map(function (a) {
        return '<a href="' + a.href + '" target="_blank" rel="noopener noreferrer" class="btn-action btn-action--' + (a.style || 'secondary') + '">' + a.label + '</a>';
      }).join('');

      // Section title adapts to first action label
      var actionTitle = 'Get Involved';
      if (project.actions && project.actions.length) {
        var first = project.actions[0].label;
        if (first === 'Download' || first === 'Releases') actionTitle = first;
      }

      container.innerHTML =
        '<section class="project-hero">' +
        '<div class="project-hero-badge">' +
        '<span class="status-dot dot-' + project.status + '"></span> ' +
        (statusMap[project.status] || project.status.toUpperCase()) +
        '</div>' +
        '<h1>' + project.name + '</h1>' +
        '<p class="project-tagline">' + (project.tagline || project.description) + '</p>' +
        '</section>' +

        '<section class="module">' +
        '<span class="module-label">// OVERVIEW</span>' +
        '<h2 class="module-title">What Is It?</h2>' +
        '<p class="module-text">' + (project.overview || project.description) + '</p>' +
        '</section>' +

        (featuresHTML ?
          '<section class="module">' +
          '<span class="module-label">// CAPABILITIES</span>' +
          '<h2 class="module-title">Features</h2>' +
          '<div class="features-grid">' + featuresHTML + '</div>' +
          '</section>' : '') +

        '<section class="module">' +
        '<span class="module-label">// TECH STACK</span>' +
        '<h2 class="module-title">Built With</h2>' +
        '<div class="tech-grid">' + techHTML + '</div>' +
        '</section>' +

        (stepsHTML ?
          '<section class="module">' +
          '<span class="module-label">// PROCESS</span>' +
          '<h2 class="module-title">How It Works</h2>' +
          '<div class="steps">' + stepsHTML + '</div>' +
          '</section>' : '') +

        '<section class="module">' +
        '<span class="module-label">// PREVIEW</span>' +
        '<h2 class="module-title">Media</h2>' +
        '<div class="media-area"><span class="media-placeholder">[ Screenshots & demo coming soon ]</span></div>' +
        '</section>' +

        (actionsHTML ?
          '<section class="module">' +
          '<span class="module-label">// ACTIONS</span>' +
          '<h2 class="module-title">' + actionTitle + '</h2>' +
          '<div class="action-group">' + actionsHTML + '</div>' +
          '</section>' : '');

      // Scroll reveal
      var els = container.querySelectorAll('.reveal');
      if ('IntersectionObserver' in window) {
        var obs = new IntersectionObserver(function (entries) {
          entries.forEach(function (e) {
            if (e.isIntersecting) {
              var d = parseInt(e.target.dataset.delay || '0', 10);
              setTimeout(function () { e.target.classList.add('visible'); }, d);
              obs.unobserve(e.target);
            }
          });
        }, { threshold: 0.08 });
        els.forEach(function (el) { obs.observe(el); });
      } else {
        els.forEach(function (el) { el.classList.add('visible'); });
      }
    }

    if (window.__projects) {
      renderProject();
    } else {
      window.addEventListener('dataReady', renderProject);
    }
  </script>
</body>

</html>
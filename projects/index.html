<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SeedCodes — Project</title>
  <meta name="description" content="" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="../styles/main.css" />
  <link rel="stylesheet" href="../styles/project.css" />
</head>

<body>

  <div class="bg-gradient"></div>

  <nav class="navbar">
    <div class="nav-inner">
      <a href="../" class="nav-logo">
        <span class="logo-dot"></span>
        SeedCodes
      </a>
      <a href="../#projects" class="back-link" style="margin-left:auto;">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
        </svg>
        Back
      </a>
    </div>
  </nav>

  <main class="page-enter" id="projectMain">
    <div class="container" id="projectContent"></div>
  </main>

  <footer class="project-footer-bar">
    <div class="container">
      <p>© 2026 SeedCodes. Engineered from scratch.</p>
    </div>
  </footer>

  <script src="../js/data.js" type="module" id="dataLoader"></script>
  <script type="module">
    import { projects } from '../js/data.js';
    window.__projects = projects;
    window.dispatchEvent(new Event('dataReady'));
  </script>
  <script>
    // Works with both module and non-module approaches
    function renderProject() {
      const projects = window.__projects;
      if (!projects) return;

      const slug = new URLSearchParams(window.location.search).get('p');
      const project = projects.find(p => p.slug === slug);
      const container = document.getElementById('projectContent');

      if (!project) {
        document.title = 'Module Not Found — SeedCodes';
        container.innerHTML = '<section class="project-hero"><h1>Module Not Found</h1><p class="project-tagline">This project module doesn\'t exist yet.</p></section>';
        return;
      }

      document.title = project.name + ' — SeedCodes';
      const descMeta = document.querySelector('meta[name="description"]');
      if (descMeta) descMeta.content = project.tagline || project.description;

      const statusMap = { active: 'ACTIVE MODULE', building: 'IN DEVELOPMENT', paused: 'PAUSED', research: 'RESEARCH PHASE' };

      const featuresHTML = (project.features || []).map((f, i) =>
        '<div class="feature-item reveal" data-delay="' + (i * 60) + '"><div class="feature-icon">' + f.icon + '</div><div class="feature-name">' + f.name + '</div><div class="feature-desc">' + f.desc + '</div></div>'
      ).join('');

      const techHTML = (project.techDetail || project.stack).map(t =>
        '<span class="tech-badge">' + t + '</span>'
      ).join('');

      const stepsHTML = (project.steps || []).map((s, i) =>
        '<div class="step reveal" data-delay="' + (i * 80) + '"><span class="step-num">' + String(i + 1).padStart(2, '0') + '</span><span class="step-text">' + s + '</span></div>'
      ).join('');

      var ghIcon = '<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/></svg>';

      container.innerHTML =
        '<section class="project-hero">' +
        '<div class="project-hero-badge">' +
        '<span class="status-dot dot-' + project.status + '"></span> ' +
        (statusMap[project.status] || project.status.toUpperCase()) +
        '</div>' +
        '<h1>' + project.name + '</h1>' +
        '<p class="project-tagline">' + (project.tagline || project.description) + '</p>' +
        '</section>' +

        '<section class="module">' +
        '<span class="module-label">// OVERVIEW</span>' +
        '<h2 class="module-title">What Is It?</h2>' +
        '<p class="module-text">' + (project.overview || project.description) + '</p>' +
        '</section>' +

        (featuresHTML ?
          '<section class="module">' +
          '<span class="module-label">// CAPABILITIES</span>' +
          '<h2 class="module-title">Features</h2>' +
          '<div class="features-grid">' + featuresHTML + '</div>' +
          '</section>' : '') +

        '<section class="module">' +
        '<span class="module-label">// TECH STACK</span>' +
        '<h2 class="module-title">Built With</h2>' +
        '<div class="tech-grid">' + techHTML + '</div>' +
        '</section>' +

        (stepsHTML ?
          '<section class="module">' +
          '<span class="module-label">// PROCESS</span>' +
          '<h2 class="module-title">How It Works</h2>' +
          '<div class="steps">' + stepsHTML + '</div>' +
          '</section>' : '') +

        '<section class="module">' +
        '<span class="module-label">// PREVIEW</span>' +
        '<h2 class="module-title">Media</h2>' +
        '<div class="media-area"><span class="media-placeholder">[ Screenshots & demo coming soon ]</span></div>' +
        '</section>' +

        '<section class="module">' +
        '<span class="module-label">// ACTIONS</span>' +
        '<h2 class="module-title">Get Involved</h2>' +
        '<div class="action-group">' +
        (project.github ? '<a href="' + project.github + '" target="_blank" rel="noopener noreferrer" class="btn-action btn-action--primary">' + ghIcon + ' View on GitHub</a>' : '') +
        '<a href="../#contact" class="btn-action btn-action--secondary">Contact for Demo</a>' +
        '</div>' +
        '</section>';

      // Scroll reveal
      var els = container.querySelectorAll('.reveal');
      if ('IntersectionObserver' in window) {
        var obs = new IntersectionObserver(function (entries) {
          entries.forEach(function (e) {
            if (e.isIntersecting) {
              var d = parseInt(e.target.dataset.delay || '0', 10);
              setTimeout(function () { e.target.classList.add('visible'); }, d);
              obs.unobserve(e.target);
            }
          });
        }, { threshold: 0.08 });
        els.forEach(function (el) { obs.observe(el); });
      } else {
        els.forEach(function (el) { el.classList.add('visible'); });
      }
    }

    // Try to render immediately if data is already available
    if (window.__projects) {
      renderProject();
    } else {
      window.addEventListener('dataReady', renderProject);
    }
  </script>
</body>

</html>